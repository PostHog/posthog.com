---
title: Traces
---

import TraceEvent from "./_snippets/trace-event.mdx"

Traces are a collection of [generations](/docs/llm-analytics/generations) and [spans](/docs/llm-analytics/spans) that capture a full interaction between a user and an LLM. The [traces tab](https://app.posthog.com/llm-analytics/traces) lists them along with the properties autocaptured by PostHog like the person, total cost, total latency, and more.

## Trace timeline

Clicking on a trace opens a timeline of the interaction with all the generation and span events. The trace timeline enables you to see the entire conversation, profiling details, and the individual generations and spans.

<ProductScreenshot
  imageLight="https://res.cloudinary.com/dmukukwp6/image/upload/llma_traces_25e203aa50.png"
  imageDark="https://res.cloudinary.com/dmukukwp6/image/upload/llma_traces_dark_dd6ad555dc.png"
  alt="LLM traces"
  classes="rounded"
/>

<Caption>A trace presents LLM event data in a timeline, tree-structured view </Caption>


## AI event hierarchy

```mermaid
flowchart TD

    A[<strong>$ai_trace</strong>]
            
    B[<strong>$ai_generation</strong>]
      
    C@{ shape: processes, label: "<strong>$ai_spans</strong>" }

    D[<strong>$ai_generation</strong>]

    E@{ shape: processes, label: "<strong>$ai_spans</strong>" }

    F[<strong>$ai_generation</strong>]

    A --> B
    A --> C
    C --> D
    C --> E
    E --> F
```

Traces consist of the following event hierarchy: 

1. A trace is the top-level event entity.
2. A trace can contain multiple spans and generations.
3. A span can be the parent of other spans.
4. A generation can be the child of a span or trace.

## Event properties

<TraceEvent />
