The Stripe connector can link charges, customers, invoices, prices, products, subscriptions, and balance transactions to PostHog. 

## Creating a Stripe API key

You need a [Stripe API key](https://dashboard.stripe.com/apikeys) to create a connector. Head to your Stripe dashboard > **Developers** > **API keys**, under **Restricted keys**, click [+ Create a restricted key](https://dashboard.stripe.com/apikeys/create).

You need to give your API key the following **Read** permissions in the **Permissions** column:

| Resource Type | Required Read Permissions                                                    |
|---------------|------------------------------------------------------------------------------|
| Core          | Balance transaction sources, Charges, Customers, Disputes, Payouts, Products |
| Billing       | Credit notes, Invoices, Prices, Subscriptions                                |
| Connect       | Click **Read** in the **Connect** header                                     |

If you aren't concerned with giving us more permissions than necessary, you can also simply click **Read** on the **Core**, **Billing**, and **Connect** headers to give us the necessary permissions.

If your Stripe account is in a language other than English, we suggest you update it to English before following the steps above to guarantee the correct permissions are set.

## Adding a data source 

1. In PostHog, go to the [Data pipeline page](https://us.posthog.com/pipeline/sources) select the **Sources** tab.
2. Click **+ New source** button and select Stripe by clicking the **Link** button.
3. In Stripe, get your Account ID by going to **Settings** > **Business**, selecting the [Account details](https://dashboard.stripe.com/settings/account) tab, and clicking your **Account ID** or pressing `âŒ˜` + `I` to copy your ID.
4. Get your API key from the [previous section](#creating-a-stripe-api-key)
5. *Optional:* Add a prefix to your table names
6. Click **Next**

> For Stripe tables, incremental syncs will only sync new records and not update existing records. This is a limitation of the Stripe API in which it's not possible to query for updated data. 

The data warehouse then starts syncing your Stripe data. You can see details and progress in the [data pipeline sources tab](https://us.posthog.com/pipeline/sources).