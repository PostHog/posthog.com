---
title: Nuxt.js
platformLogo: nuxt
---

import DetailSetUpReverseProxy from "../integrate/_snippets/details/set-up-reverse-proxy.mdx"
import DetailGroupProductsInOneProject from "../integrate/_snippets/details/group-products-in-one-project.mdx"
import DetailPostHogIPs from "../integrate/_snippets/details/posthog-ips.mdx"

PostHog makes it easy to get data about usage of your [Nuxt.js](https://nuxt.com/) app. Integrating PostHog into your app enables analytics about user behavior, custom events capture, session replays, feature flags, and more.

This guide covers Nuxt v4.x and v3.7+. For these versions, we recommend using `@posthog/nuxt` module for client-side capture. 

The `@posthog/nuxt` module provides:

- Automatic client-side PostHog initialization
- Auto-imported composables for PostHog and feature flags
- Automatic exception capture for error tracking
- Source map configuration and upload for error tracking

For server-side event capture beyond error tracking, use the `posthog-node` SDK directly. 

> **Using an older version?** See our docs for [Nuxt 3.0-3.6](/docs/libraries/nuxt-js-3-6) or [Nuxt 2.x](/docs/libraries/nuxt-js-2).

## Installation

Install the PostHog Nuxt module using your package manager:

<MultiLanguage>

```bash file=npm
npm install @posthog/nuxt
```

```bash file=Yarn
yarn add @posthog/nuxt
```

```bash file=pnpm
pnpm add @posthog/nuxt
```

```bash file=Bun
bun add @posthog/nuxt
```

</MultiLanguage>

## Configuration

Add the module to your `nuxt.config.ts` file:

```typescript file=nuxt.config.ts
export default defineNuxtConfig({
  modules: ['@posthog/nuxt'],
  posthogConfig: {
    publicKey: '<ph_project_api_key>', // Find it in project settings https://app.posthog.com/settings/project
    host: '<ph_client_api_host>', // Optional: defaults to https://us.i.posthog.com. Use https://eu.i.posthog.com for EU region
    clientConfig: {
      // Optional: PostHog client configuration options
    },
  },
})
```

## Usage on the client side

The module provides the `usePostHog()` composable which is auto-imported and available in all your Vue components:

```vue file=app/pages/index.vue
<script setup>
const posthog = usePostHog()

// Capture a custom event
posthog?.capture('button_clicked', { button_name: 'signup' })
</script>
```

> **Note:** `usePostHog()` returns `undefined` on the server side during SSR, so use optional chaining `?.` when calling methods.

## Usage on the server side

The `@posthog/nuxt` module initializes a server-side client for error tracking only. For general event capture in Nitro routes, create your own `posthog-node` SDK client. 

The `@posthog/nuxt` module makes your config available at `runtimeConfig.public.posthog`.

First, create a server utility to reuse the PostHog client across requests:

```typescript file=server/utils/posthog.ts
import { PostHog } from 'posthog-node'

let client: PostHog | null = null

export function useServerPostHog(): PostHog {
  if (!client) {
    const config = useRuntimeConfig()
    client = new PostHog(config.public.posthog.publicKey, {
      host: config.public.posthog.host,
    })
  }
  return client
}
```

Then use it in your server routes:

```typescript file=server/api/example.ts
export default defineEventHandler((event) => {
  const posthog = useServerPostHog()

  posthog.capture({
    distinctId: 'user_123',
    event: 'server_event',
  })

  return { success: true }
})
```

<DetailSetUpReverseProxy />

<DetailGroupProductsInOneProject />

<DetailPostHogIPs />

## Feature flags

The module provides auto-imported composables for feature flags. All composables return reactive refs that automatically update when flags are loaded or changed.

```vue
<script setup>
const isEnabled = useFeatureFlagEnabled('new-feature')
// returns true, false, or undefined
</script>

<template>
  <div v-if="isEnabled">Feature is enabled!</div>
</template>
```

```vue
<script setup>
const variant = useFeatureFlagVariantKey('experiment')
// returns the variant string, true/false, or undefined
</script>

<template>
  <div v-if="variant === 'control'">Control group</div>
  <div v-else-if="variant === 'test'">Test group</div>
</template>
```

```vue
<script setup>
const payload = useFeatureFlagPayload('config-flag')
// returns any JSON value or undefined
</script>

<template>
  <div v-if="payload">Config: {{ payload.value }}</div>
</template>
```

## Error Tracking

For a detailed error tracking installation guide, including automatic exception capture and source map configuration, see the [Nuxt error tracking installation docs](/docs/error-tracking/installation/nuxt).

## Troubleshooting

**TypeScript errors in posthog config:** Remove the `.nuxt` directory and rebuild your project to regenerate config types.

**PostHog not capturing events:** Ensure you're using optional chaining (`posthog?.capture()`) since `usePostHog()` returns `undefined` during server-side rendering.

## Next steps

For any technical questions for how to integrate specific PostHog features into Nuxt (such as analytics, feature flags, A/B testing, surveys, etc.), have a look at our [JavaScript Web](/docs/libraries/js) and [Node](/docs/libraries/node) SDK docs.

Alternatively, the following tutorials can help you get started:

- [How to set up analytics in Nuxt](/tutorials/nuxt-analytics)
- [How to set up feature flags in Nuxt](/tutorials/nuxt-feature-flags)
- [How to set up A/B tests in Nuxt](/tutorials/nuxtjs-ab-tests)
- [How to set up surveys in Nuxt](/tutorials/nuxt-surveys)