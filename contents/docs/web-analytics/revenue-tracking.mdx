---
title: Revenue tracking
sidebar: Docs
showTitle: true
availability:
  free: full
  selfServe: full
  enterprise: full
---

import { ProductScreenshot } from 'components/ProductScreenshot'

PostHog can help you track revenue from your website via the events you are already sending us. You'll then be able to see this in your [Web Analytics dashboard](https://app.posthog.com/web).

> This feature is currently in <span className="text-xs font-semibold text-opacity-60 bg-yellow px-1 py-0.5 rounded-sm uppercase text-primary">Beta</span>.

## Data source

PostHog can collect your from mainly two sources, but they're both very powerful:

### Events

You can send us revenue tracking events from your website via the events you are already sending us.
You can trigger an event when a purchase is completed, a subscription is renewed, or a user subscribes to a newsletter, for example.

You'll need to include two properties in this event to get the most out of it:
- `value`: The amount of revenue generated by the event.
- `currency`: The currency of the revenue in ISO 4217 format (USD, EUR, GBP, etc.).

You can choose any name you like for these properties, you'll be able to customize them in the [Revenue tab in Data Management](https://app.posthog.com/data-management/revenue).
`currency` is optional as you can choose a static currency when configuring your revenue event in your dashboard.

### Data warehouse tables

You can also expose your revenue data from your [Data Warehouse](/data-warehouse) tables.

The configuration for these is similar to the events configuration, but you'll actually need to choose 3 columns:
- `value`: The amount of revenue generated by the event.
- `currency`: The currency of the revenue in ISO 4217 format (USD, EUR, GBP, etc.).
- `timestamp`: The timestamp of when the revenue was generated.

For Data Warehouse tables, you're **required** to choose a currency from one of its columns. This restriction might be lifted in the future. We don't support custom SQL at the moment.

We currently have a built-in connection to Stripe, which will allow you to import your Stripe payment data directly into PostHog.
Integrations with other payment platforms such as RevenueCat and LemonSqueezy are coming soon.

#### Integrating with Stripe

You'll first want to connect your Stripe account to PostHog. You can follow our [Stripe integration docs](/tutorials/stripe-reports) to do so.

Once you've connected your Stripe account, you'll be able to choose the `stripe_price` table and the `amount`, `currency` and `created_at` columns from the Stripe data.
And that's all, you'll immediately see your revenue data in your Web Analytics dashboard.

## Base currency

In our Revenue configuration tab you'll also be able to choose the base currency for your revenue data.
This is the currency we'll **report** your revenue in our Web Analytics dashboard.

## Currency data

PostHog's currency conversion data is sourced from [Open Exchange Rates](https://openexchangerates.org/). The exchange rate data is:

- Updated at an hourly frequency
- Stored with daily granularity

This ensures that your revenue data is converted using recent exchange rates, providing reliable revenue analytics across different currencies.

### Supported currencies

PostHog supports a wide range of global currencies for revenue tracking. 

For a complete list of supported currencies, see our [currencies.py file](https://github.com/PostHog/posthog/blob/master/posthog/models/exchange_rate/currencies.py).

#### What if you don't support the currency on my revenue event?

We'll track that revenue event as if it had 0 value. You can always open a feature request to have us include a new currency to our list.
We're always monitoring new currencies and adding them as we see fit.

## Troubleshooting

### Why isn't my revenue appearing in the web analytics overview?

If your revenue isn't appearing in your Web Analytics dashboard, there are a few common issues to check:

1. **Check the Revenue tab in Data Management**: First, verify if your revenue events are being captured correctly by checking the [Revenue tab](https://app.posthog.com/data-management/revenue) in Data Management.

2. **Missing session ID**: Revenue events must include a session ID to appear in Web Analytics. Without this identifier, PostHog cannot associate the revenue with a particular web session.

## Advanced usage

### Querying converted rates

Yes, you can query converted rates yourself in SQL using the `convertCurrency` function. This is useful for custom queries and advanced analytics.

Example:
```sql
SELECT 
    *,
    properties.$currency as original_currency,
    properties.value as original_value,
    convertCurrency(original_currency, 'USD', original_value, timestamp) as value_usd
FROM events
WHERE event = 'purchase'
```

### Integrating with payment platforms

PostHog can integrate with various payment platforms to automatically import revenue data:

- **Stripe**: Currently supported. You can import your Stripe payment data directly into PostHog.
- **RevenueCat**: Coming soon. Integration is currently in development.
- **LemonSqueezy**: Coming soon. Integration is currently in development.

For detailed instructions on setting up these integrations, refer to our [app integrations documentation](/docs/apps).

### Correlating revenue with ad expenses

The ability to correlate revenue with advertising expenses is currently a work in progress. Soon, PostHog will support sources for importing ad expense data, allowing you to analyze return on ad spend directly within the platform.

### Computing CAC and CPC

Computing Customer Acquisition Cost (CAC) and Cost Per Click (CPC) will be possible once we've completed integrations with ad expense platforms. These metrics will provide valuable insights into your marketing efficiency and return on investment.

### Can I use custom currency conversion data?

Currently, PostHog does not support using custom currency conversion data. We rely on the exchange rates provided by Open Exchange Rates.

If you need support for custom conversion rates, please [create a feature request](https://github.com/PostHog/posthog/issues/new?assignees=&labels=feature&template=feature_request.md&title=) so our team can consider adding this functionality.

## Using revenue data beyond web analytics

### Using revenue data in product analytics

You can absolutely use your revenue data for deeper Product Analytics beyond the Web Analytics dashboard. This allows you to:

- Create custom revenue funnels
- Analyze user journeys that lead to purchases
- Segment users by revenue contribution

When working with revenue data in Product Analytics, you may want to use the [`convertCurrency` function](#querying-converted-rates) for accurate reporting across different currencies.

### Sending backend events for revenue tracking

You can send revenue tracking events from your backend systems, which is especially useful for tracking purchases that complete outside of the browser.

When sending backend events, you must include a `session_id` to ensure they appear in Web Analytics. The session ID connects the backend purchase event with the user's web session.

The `session_id` should be a UUID V7 that uniquely identifies the user's session.
You can either generate a random one, but ideally you should reuse the same value we generated in our Frontend SDK so that all events belong to the same session in our UI.
You can learn more about how to do this in the [session docs](/docs/data/sessions#server-sdks-and-sessions).

Example backend event:
```javascript
posthog.capture({
    distinct_id: posthog_distinct_id,
    event: 'Purchase Succeeded',
    properties: {
        '$session_id': posthog_session_id
    }
})
```


