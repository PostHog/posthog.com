---
title: Funnels
sidebar: Docs
showTitle: true
related:
  - ../../tutorials/nextjs-supabase-signup-funnel.mdx
availability:
  free: partial
  selfServe: full
  enterprise: full
  features:
    correlation:
      free: false
      selfServe: true
      enterprise: true
---
export const newFunnelLight = "https://res.cloudinary.com/dmukukwp6/video/upload/posthog.com/contents/images/docs/user-guides/funnels/new-funnel-light-mode.mp4"
export const newFunnelDark = "https://res.cloudinary.com/dmukukwp6/video/upload/posthog.com/contents/images/docs/user-guides/funnels/new-funnel-dark-mode.mp4"
export const funnelStepsLight = "https://res.cloudinary.com/dmukukwp6/image/upload/posthog.com/contents/images/docs/user-guides/funnels/funnel-steps-light-mode.png"
export const funnelStepsDark = "https://res.cloudinary.com/dmukukwp6/image/upload/posthog.com/contents/images/docs/user-guides/funnels/funnel-steps-dark-mode.png"
export const globalFiltersLight = "https://res.cloudinary.com/dmukukwp6/image/upload/posthog.com/contents/images/docs/user-guides/funnels/global-filters-light-mode.png"
export const globalFiltersDark = "https://res.cloudinary.com/dmukukwp6/image/upload/posthog.com/contents/images/docs/user-guides/funnels/global-filters-dark-mode.png"
export const setFunnelTimeRangeLight = "https://res.cloudinary.com/dmukukwp6/image/upload/posthog.com/contents/images/docs/user-guides/funnels/set-funnel-time-range-light-mode.png"
export const setFunnelTimeRangeDark = "https://res.cloudinary.com/dmukukwp6/image/upload/posthog.com/contents/images/docs/user-guides/funnels/set-funnel-time-range-dark-mode.png"
export const saveAFunnelLight = "https://res.cloudinary.com/dmukukwp6/video/upload/posthog.com/contents/images/docs/user-guides/funnels/save-a-funnel-light-mode.mp4"
export const saveAFunnelDark = "https://res.cloudinary.com/dmukukwp6/video/upload/posthog.com/contents/images/docs/user-guides/funnels/save-a-funnel-dark-mode.mp4"
export const personsModalLight = "https://res.cloudinary.com/dmukukwp6/image/upload/posthog.com/contents/images/docs/user-guides/funnels/persons-modal-light-mode.png"
export const personsModalDark = "https://res.cloudinary.com/dmukukwp6/image/upload/posthog.com/contents/images/docs/user-guides/funnels/persons-modal-dark-mode.png"
export const identifyingLight = "https://res.cloudinary.com/dmukukwp6/image/upload/posthog.com/contents/images/docs/user-guides/funnels/identifying-drop-offs-light-mode.png"
export const identifyingDark = "https://res.cloudinary.com/dmukukwp6/image/upload/posthog.com/contents/images/docs/user-guides/funnels/identifying-drop-offs-dark-mode.png"
export const switchToRelativeLight = "https://res.cloudinary.com/dmukukwp6/image/upload/posthog.com/contents/images/docs/user-guides/funnels/switch-to-relative-drop-off-light-mode.png"
export const switchToRelativeDark = "https://res.cloudinary.com/dmukukwp6/image/upload/posthog.com/contents/images/docs/user-guides/funnels/switch-to-relative-drop-off-dark-mode.png"
export const averageTimeToConvertLight = "https://res.cloudinary.com/dmukukwp6/image/upload/posthog.com/contents/images/docs/user-guides/funnels/average-time-to-convert-light-mode.png"
export const averageTimeToConvertDark = "https://res.cloudinary.com/dmukukwp6/image/upload/posthog.com/contents/images/docs/user-guides/funnels/average-time-to-convert-dark-mode.png"
export const distributionHistogramLight = "https://res.cloudinary.com/dmukukwp6/image/upload/posthog.com/contents/images/docs/user-guides/funnels/distribution-histogram-time-to-convert-light-mode.png"
export const distributionHistogramDark = "https://res.cloudinary.com/dmukukwp6/image/upload/posthog.com/contents/images/docs/user-guides/funnels/distribution-histogram-time-to-convert-dark-mode.png"
export const granularConversionLight = "https://res.cloudinary.com/dmukukwp6/image/upload/posthog.com/contents/images/docs/user-guides/funnels/granular-conversion-time-distribution-light-mode.png"
export const granularConversionDark = "https://res.cloudinary.com/dmukukwp6/image/upload/posthog.com/contents/images/docs/user-guides/funnels/granular-conversion-time-distribution-dark-mode.png"
export const breakdownByOSLight = "https://res.cloudinary.com/dmukukwp6/image/upload/posthog.com/contents/images/docs/user-guides/funnels/breakdown-by-operating-system-light-mode.png"
export const breakdownByOSDark = "https://res.cloudinary.com/dmukukwp6/image/upload/posthog.com/contents/images/docs/user-guides/funnels/breakdown-by-operating-system-dark-mode.png"
export const funnelStepBreakdownLight = "https://res.cloudinary.com/dmukukwp6/image/upload/posthog.com/contents/images/docs/user-guides/funnels/funnel-steps-breakdown-light-mode.png"
export const funnelStepBreakdownDark = "https://res.cloudinary.com/dmukukwp6/image/upload/posthog.com/contents/images/docs/user-guides/funnels/funnel-steps-breakdown-dark-mode.png"
export const converstionOverTimeLight = "https://res.cloudinary.com/dmukukwp6/image/upload/posthog.com/contents/images/docs/user-guides/funnels/conversion-over-time-using-trends-light-mode.png"
export const converstionOverTimeDark = "https://res.cloudinary.com/dmukukwp6/image/upload/posthog.com/contents/images/docs/user-guides/funnels/conversion-over-time-using-trends-dark-mode.png"

<iframe
    src="https://www.youtube-nocookie.com/embed/2jQco8hEvTI?start=573"
    className="rounded shadow-xl"
/>

For every flow in your product, more people will start it than complete it successfully. Funnels enable you to visualize your flows and understand where the friction points are so that you can improve them.

You can learn the following from funnels:

- [Where people are getting stuck during your flow](#understand-where-people-are-getting-stuck-during-your-flow)
- [Who successful and unsuccessul users are](#identify-unsuccessful-users)
- [The steps with the highest friction and time to convert](#graph-type)
- [The paths users take in a funnel](#explore-user-paths)
- [If product changes are improving your funnel over time](#graph-type)
- [How seasonality affects your conversion rates](#understand-seasonality-in-your-conversion-rates)

## How to create a funnel

1. Click [Product Analytics](https://us.posthog.com/insights) on the left sidebar
1. Click the **+ New Insights** tab
1. Select the **Funnel** option in the dropdown 

<ProductVideo
    videoLight = {newFunnelLight} 
    videoDark = {newFunnelDark}
    classes="rounded"
    alt="Create a new funnel insight."
/>

### Adding steps

Select the steps to include in your funnel, ideally starting with the first event or action a user will trigger in the flow. Next, add intermediate events users need to go through to be successful and finish with the event you consider to be the success for this flow. It's best to start with the simplest flow and avoid using optional steps to ensure you don't filter out or skew results.

<ProductScreenshot
    imageLight = {funnelStepsLight} 
    imageDark = {funnelStepsDark}
    classes="rounded"
    alt="Funnel steps"
/>

### Filtering steps

To refine your steps, you can filter out events using event, person, or group properties, autocapture elements, or HogQL. To do this, click the **filter icon**  next to the step, choose your property, and fill in the details. You can also set a global filter in the **Filters** section in the bottom.

<ProductScreenshot
    imageLight = {globalFiltersLight} 
    imageDark = {globalFiltersDark}
    classes="rounded"
    alt="Global filters"
/>

> **Note**: Using person properties in funnels requires identified events and [person profiles](/docs/data/persons). 

### Excluding steps

You can also exclude people who completed certain events between two specific steps. To do this, add the step in the **Exclusion steps** section.

These people are completely excluded from the entire funnel.

### Conversion rate calcuation

There are two options for showing conversion rates in a funnel:

1. **Overall conversion** – for each step, this shows the conversion relative to the *first* step.
2. **Relative to the previous step** – for each step, this shows the conversion relative to the *previous* step.

**Overall conversion** is helpful for understanding the entire funnel, whereas **relative conversion** shows you which steps have biggest opportunity for improvement.

<ProductScreenshot
    imageLight = "https://res.cloudinary.com/dmukukwp6/image/upload/funnel_conversion_types_light_bcc79c205d.png"
    imageDark = "https://res.cloudinary.com/dmukukwp6/image/upload/converesion_funnels_dark_2_793a67ada4.png"
    classes="rounded"
    alt="Overall vs relative conversion"
/>

### Breakdowns

To understand how different types of user interact with your funnel, it's helpful to breakdown results. You can breakdown steps by event and person properties. To do this, click on the **+ Add breakdown** button and select the property you want to break down by.

The example below shows a breakdown by operating system:

<ProductScreenshot
    imageLight = {breakdownByOSLight} 
    imageDark = {breakdownByOSDark}
    classes="rounded"
    alt="Breakdown funnel steps by Operating System"
/>

<ProductScreenshot
    imageLight = {funnelStepBreakdownLight} 
    imageDark = {funnelStepBreakdownDark}
    classes="rounded"
    alt="Funnel steps broken down by property"
/>

#### Attribution types

When breaking down funnels, it's possible that the same properties don't exist on every event. For example, if you want to break down by `browser` on a funnel that contains both of frontend and backend events.

In this case, you can choose from which step the properties should be selected from by modifying the attribution type. There are four modes to choose from:

##### 1. First touchpoint

In this case, the first property value seen in any of the steps is chosen.

Consider this example sequence of events:

1. `$pageview` with `browser = Chrome`
2. `user signed up` with `browser = Firefox`

The first touchpoint means that `Chrome` will be the breakdown value.

In the first touchpoint mode, one person will always only have one value.

##### 2. Last touchpoint

In this case, the last property value seen from all steps is chosen.

Consider the same example as above:

1. `$pageview` with `browser = Chrome`
2. `user signed up` with `browser = Firefox`

The last touchpoint means that `Firefox` will be the breakdown value.

In the last touchpoint mode, one person will always only have one value.

##### 3. All steps

In this case, all events completed sequentially will be included in the funnel.

Consider the following entirely possible example of events from a single person:

1. `$pageview` with `browser = Chrome`
2. `$pageview` with `browser = Firefox`
3. `user signed up` with `browser = Chrome`
4. `user posted` with `browser = Chrome`
5. `user posted` with `browser = Firefox`

With all steps mode, the person will be counted twice in the funnel, but in slightly different ways.

The person will be in the Chrome breakdown as having completed all three steps: `$pageview`, `user signed up`, and `user posted`. The person will also be in the Firefox breakdown, but only for the `$pageview` step because they didn't complete the `user signed up` step with Firefox.

##### 4. Specific step

In this case, only the property value seen at the selected step is chosen. Importantly, this also means that the person won't be included in the funnel if they don't have a property value at the selected step.

Consider an example where we capture these two events for a person:

1. `$pageview` with `browser = Chrome`
2. `user signed up` with `browser = Firefox`

When step two is chosen in this example, the value will be `Firefox`. Also, any people who only have a `$pageview` event will be excluded from the funnel.

With the specific step mode, one person can have more than one property value. For example, if the user captured the same event with different browsers:

1. `$pageview` with `browser = Chrome`
2. `$pageview` with `browser = Firefox`

Then the person would have both `Chrome` and `Firefox` as their breakdown values.

Another common use for `Specific step` is to display only a single URL for pageview steps in the funnel columns. The default, `First touchpoint` uses the first property value seen from all steps, which will include the subdirectory URLs in the breakdown if they appeared in later steps.  

For example, if you've 
- set your first query step as `Pageview` where `Current URL` `= equals` `https://foo.com/bar`, 
- and `/bar` has subdirectories (e.g. `https://foo.com/bar/foo1` `https://foo.com/bar/foo2` etc.), 
- and `Breakdown by` is set to `Current URL`

but you don't want pages under the subdirectories of `https://foo.com/bar` to appear in the funnel chart.  

In this case, set the `Attribution type` to `Specific step` / `Step 1` to see only `https://foo.com/bar` in the pageview column of the chart.

> For an unordered funnel, the specific step is meaningless, as the first step can be the last step, and vice versa. So, it's referred to as "any step" in the UI. It has the same semantics as a specific step in an ordered funnel, but it looks at property values from all steps.

### Graph type

The graph type dropdown let's you choose between conversion steps, time to convert, and historical trends.

<ProductScreenshot
    imageLight = {converstionOverTimeLight} 
    imageDark = {converstionOverTimeDark}
    classes="rounded"
    alt="Conversion over time using Trends"
/>

Each type serves a unique purpose:

- **Conversion steps** – shows you where users are dropping off in your funnel and number of people converting between steps.

- **Time to convert** – shows you steps with the highest friction. Steps with a long time to convert are likely much harder than steps with a short time.

- **Historical trends** – shows you how your conversion rate has changed over time. Useful for understanding how changes, fixes, and new features have affected your funnel success rate.

## Tips for analyzing funnels

### Understand where people are getting stuck during your flow

The most common use case for funnels is understanding where people are getting stuck or dropping off in your flow.

<ProductScreenshot
    imageLight = {identifyingLight} 
    imageDark = {identifyingDark}
    classes="rounded"
    alt="Identifying drop-offs in a funnel"
/>

There a few ways to identify problem steps:

- Absolute numbers show you where you're losing the most people.
- Relative conversion rate show you which steps have the greatest impact on your overall conversion rate.

Usually the steps with the lowest relative conversion rate are where the largest opportunities are.

### Identify unsuccessful users

Once you have a funnel drop-off you'd like to explore further, the first step is to find out why users are struggling. There are many ways to get this information, from [talking to users directly](/newsletter/talk-to-users) to [replaying their sessions](/docs/session-replay).

Click on the chart or the linked column values below the funnel to view the individual people who **COMPLETED** or **DROPPED** that step of your funnel.
 
<ProductScreenshot
    imageLight = "https://res.cloudinary.com/dmukukwp6/image/upload/v1718365074/posthog.com/contents/Screenshot_2024-06-14_at_12.36.24_PM.png" 
    imageDark = "https://res.cloudinary.com/dmukukwp6/image/upload/v1718365075/posthog.com/contents/Screenshot_2024-06-14_at_12.36.47_PM.png"
    classes="rounded"
    alt="View users in a funnel"
/>


You can also save this list of users as a [cohort](/docs/data/cohorts) for further analysis.

### Explore user paths

It can be useful to explore the [paths](/docs/product-analytics/paths) people take between steps in your funnel.

Click on the **'...'** next to any step in your funnel and, depending on which step you're selecting, you'll be presented with options to "show user paths":

- leading to step
- between previous step and this step
- after step
- after drop off
- before drop off

<ProductScreenshot
    imageLight = "https://res.cloudinary.com/dmukukwp6/image/upload/v1718369751/posthog.com/contents/Screenshot_2024-06-14_at_1.54.52_PM.png" 
    imageDark = "https://res.cloudinary.com/dmukukwp6/image/upload/v1718369751/posthog.com/contents/Screenshot_2024-06-14_at_1.55.24_PM.png"
    classes="rounded"
    alt="View user paths in a funnel"
/>

Selecting any option creates a new insight showing the paths users took. This is useful for getting a complete picture of the *real* funnel created by user interactions, rather than the imagined *perfect* funnel engineers and designers have in their head. Spoiler: the *real* funnel and the *perfect* funnel are rarely the same!

### Understand seasonality in your conversion rates

It's unlikely that your conversion rate will remain stable every day or every week. This is normal, but it's important to understand the external factors that can cause these fluctuations so you don't jump to conclusions too quickly when analyzing a big change or drop-off.

To look at the seasonality of your conversion rates, set the [graph type](#graph-type) to historical trends and set the time period to when you may expect seasonal variations.

A common seasonality to watch out for is weekends, particularly if your product is B2B. Another one is a yearly sale such as "Black Friday", which increases the number of people visiting your site and increases the expectation of discounts, making it difficult to compare against the rest of the year.

In this view, you can adjust the date ranges to observe key seasonal trends. You can then look at your funnel to determine if it's just a seasonal trend or whether something else has affected the experiece of your product (like a product change).

### Correlation analysis

<FeatureAvailability availability={_frontmatter.availability.features.correlation} />

[Correlation Analysis](/docs/product-analytics/correlation) automatically highlights significant factors that affect the conversion rate of users within the funnel.

Correlation analysis works well when you don't already have a hypothesis for what is affecting conversion through a funnel. This report will automatically highlighting significant events or properties that either negatively or positively impact conversion rate.

## Further reading

Want to know more about what's possible with Funnels in PostHog? Try these tutorials:

-   [Getting started with AARRR](/tutorials/aarrr-framework)
-   [Building an AARRR 'Pirate' Funnel](/tutorials/aarrr-how-to-build-pirate-funnel-posthog-with-posthog)
-   [Building and measuring a sign up funnel with Next.js, Supabase and PostHog](/tutorials/nextjs-supabase-signup-funnel)

Want more? Check our [full list of PostHog tutorials](/tutorials).
