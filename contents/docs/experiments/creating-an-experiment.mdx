---
title: Creating an experiment
sidebar: Docs
showTitle: true
availability:
  free: none
  selfServe: full
  enterprise: full
---

import { ProductScreenshot } from 'components/ProductScreenshot'
export const CreateExperimentLight = "https://res.cloudinary.com/dmukukwp6/image/upload/v1716976005/posthog.com/contents/Screenshot_2024-05-29_at_10.46.15_AM.png"
export const CreateExperimentDark = "https://res.cloudinary.com/dmukukwp6/image/upload/v1716976005/posthog.com/contents/Screenshot_2024-05-29_at_10.46.03_AM.png"
export const ExperimentGoalWarningLight = "https://res.cloudinary.com/dmukukwp6/image/upload/posthog.com/contents/images/features/experiments/experiment-goal-warning-light-mode.png"
export const ExperimentGoalWarningDark = "https://res.cloudinary.com/dmukukwp6/image/upload/posthog.com/contents/images/features/experiments/experiment-goal-warning-dark-mode.png"

import { ProductVideo} from 'components/ProductVideo'
export const SetExperimentLight = "https://res.cloudinary.com/dmukukwp6/video/upload/posthog.com/contents/images/features/experiments/set-experiment-rollout-light-mode.mp4"
export const SetExperimentDark = "https://res.cloudinary.com/dmukukwp6/video/upload/posthog.com/contents/images/features/experiments/set-experiment-rollout-dark-mode.mp4"
export const ImprovementCalculatorLight = "https://res.cloudinary.com/dmukukwp6/video/upload/posthog.com/contents/images/features/experiments/improvement-calculator-light-mode.mp4"
export const ImprovementCalculatorDark = "https://res.cloudinary.com/dmukukwp6/video/upload/posthog.com/contents/images/features/experiments/improvement-calculator-dark-mode.mp4"

<iframe
    src="https://www.youtube-nocookie.com/embed/2jQco8hEvTI?start=847"
    className="rounded shadow-xl"
/>

To create a new experiment, go to the [A/B testing tab](https://app.posthog.com/experiments) in the PostHog app, and click on the **New experiment** button in the top right.

This presents you with a form where you can complete the details of your new experiment:

<ProductScreenshot
    imageLight={CreateExperimentLight} 
    imageDark={CreateExperimentDark}
    alt="How to create an experiment in PostHog" 
    classes="rounded"
/>

Here's a breakdown of each field in the form:

## Feature flag key

Each experiment is backed by a [feature flag](/docs/feature-flags/manual). In your code, you use this feature flag key to check which experiment variant the user has been assigned to.

The feature flag will be created for you automatically. Therefore, you must add a feature flag key which does not exist yet.

> **Advanced:** It's possible to create experiments without using PostHog's feature flags (for example, if you're using a different third-party library for feature flags). For more info, read our docs on [implementing experiments without feature flags](/docs/experiments/running-experiments-without-feature-flags).

## Experiment variants

By default, all experiments have a `control` and `test` variant. You can add more variants if you like.

Participants are automatically split equally between variants. If you want assign specific users to a specific variant, see the section below on [distribution and release conditions](#distribution-and-release-conditions).

## Participant type

By default, PostHog runs experiments at a user-level. This means that participants are assigned to a variant based on their person properties. However, if you've created [groups](/docs/product-analytics/group-analytics), you can also run [group-targeted experiments](/blog/running-group-targeted-ab-tests). This will test how a change affects your product at a group-level by providing the same variant to every member of a group.

## Distribution and release conditions

By default, your experiment will target 100% of participants. If you want to target a more specific set of participants or change the rollout percentage, you need to do this by changing the [release conditions](/docs/feature-flags/creating-feature-flags#release-conditions) for the feature flag used by your experiment.

You can do this by clicking on the **Manage distribution** or **Manage release conditions** button _after_ saving your experiment as a draft.

> **Note:** If you select a server-side event, you may see a warning that no feature flag information can be detected with the event. To resolve this issue, see [step 2 of adding your experiment code and how to submit feature flag information with your events](/docs/experiments/adding-experiment-code#step-2-server-side-only-add-the-feature-flag-property-to-your-events).
> 
> <ProductScreenshot 
    imageLight={ExperimentGoalWarningLight}  
    imageDark={ExperimentGoalWarningDark} 
    alt="Experiment goal warning" classes="rounded" 
/>
