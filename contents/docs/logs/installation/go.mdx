---
title: Go logs installation
platformLogo: go
showStepsToc: true
---

import { Steps, Step } from 'components/Docs/Steps'
import LogsNextSteps from './_snippets/logs-next-steps.mdx'

<Steps>

<Step title="Install OpenTelemetry packages" badge="required">

```bash
go get go.opentelemetry.io/otel/sdk/log
go get go.opentelemetry.io/otel/exporters/otlp/otlplog/otlploghttp
```

</Step>

<Step title="Get your project API key" badge="required">

You'll need your PostHog project API key to authenticate log requests. This is the same key you use for capturing events and exceptions with the PostHog SDK.

> **Important:** Use your **project API key** which starts with `phc_`. Do **not** use a personal API key (which starts with `phx_`).

You can find your project API key in [Project Settings](https://app.posthog.com/settings/project) under "Project" → "General" → "Project ID".

</Step>

<Step title="Configure the SDK" badge="required">

Set up the OpenTelemetry SDK to send logs to PostHog.

```go
package main

import (
	"os"
    "context"
    "log"
    "log/slog"

    "go.opentelemetry.io/otel/exporters/otlp/otlplog/otlploghttp"
    "go.opentelemetry.io/otel/exporters/stdout/stdoutlog"
    "go.opentelemetry.io/contrib/bridges/otelslog"
    otellog "go.opentelemetry.io/otel/sdk/log"
    "go.opentelemetry.io/otel/log/global"
)

func main() {
    ctx := context.Background()

    // Create OTLP HTTP exporter
    exporter, err := otlploghttp.New(ctx,
        otlploghttp.WithEndpoint("<ph_region>.i.posthog.com"),
        otlploghttp.WithURLPath("/i/v1/logs"),
        otlploghttp.WithHeaders(map[string]string{
            "Authorization": "Bearer <ph_project_api_key>",
        }),
    )
    if err != nil {
        panic(err)
    }

    // you could also set this outside your application
    os.Setenv("OTEL_SERVICE_NAME", "my-service")

    stdoutExporter, _ := stdoutlog.New()

    // Create logger provider
    loggerProvider := otellog.NewLoggerProvider(
        otellog.WithProcessor(otellog.NewBatchProcessor(exporter)),
        // optional, also log to stdout
        otellog.WithProcessor(otellog.NewSimpleProcessor(stdoutExporter)),
    )
    defer func() {
		loggerProvider.Shutdown(context.Background())
	}()

    global.SetLoggerProvider(loggerProvider)
    slog.SetDefault(otelslog.NewLogger(""))

    log.Println("this is a log line")
}
```

Alternatively, you can pass the API key as a query parameter by modifying the URL path:

```go
otlploghttp.WithURLPath("/i/v1/logs?token=<ph_project_api_key>")
```

</Step>

<Step title="Use OpenTelemetry logging" badge="required">

Now you can start logging with OpenTelemetry:

```go
import (
    "go.opentelemetry.io/otel/log"
)

logger := otel.GetLoggerProvider().Logger("my-app")

logger.Info(ctx, "User action",
    log.String("userId", "123"),
    log.String("action", "login"),
)
```

</Step>

<Step title="Test your setup" badge="recommended">

Once everything is configured, test that logs are flowing into PostHog:

1. Send a test log from your application
2. Check the PostHog logs interface for your log entries
3. Verify the logs appear in your project

<CallToAction type="primary" to="https://app.posthog.com/logs">
View your logs in PostHog
</CallToAction>

</Step>

<LogsNextSteps />

</Steps>
