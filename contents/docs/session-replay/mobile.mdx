---
title: Mobile Recording
---

> ðŸš§ **NOTE:** Mobile recording is currently **only available on Android** and is considered `beta`. We are keen to gather as much feedback as possible so if you try this out please let us know. You can send feedback via the [in-app support panel](https://us.posthog.com#panel=support%3Afeedback%3Asession_replay%3Alow) or one of our other [support options](/docs/support-options).


# Overview

Mobile Session Recording allows you to record user sessions on mobile devices. This includes screen recordings, network requests, logs and touches. This data can then be used to understand how users are interacting with your app and to identify bugs and issues.

## How it works

We have taken our time to make sure we provide a useful and detailed recording experience whilst keeping the performance and security of your app as a top priority. By default, the configuration is restrictive with automatic masking.

#### Screen recording

Mobile recording is primarily done using native APIs to grab the view hierarchy state when the screen is drawn. This is done carefully so as not to affect performance in any way a user may notice.

The view hierarchy is transformed to a JSON data structure and later rendered as a HTML [wireframe](https://www.figma.com/resource-library/what-is-wireframing/), since it is a wireframe the UI won't have the original look and feel but it should be close enough to understand the user's behaviour.

There are 4 possible configurations:
* `maskAllTextInputs` - all texts will be masked (e.g. `**** ***`).
* `maskAllImages` - all images will be a place holder.
* `captureLogcat` - logs will be captured automatically.
* `android:tag="ph-no-capture"` - setting the `ph-no-capture` tag means the view will be masked or be a place holder.

#### Network recording

Network requests are recorded using the `PostHogOkHttpInterceptor` interceptor ([OkHttp only](https://github.com/square/okhttp/)). Only metric-like data is currently gathered to give a picture of speed, size and response code. No data is captured from the request or response body.

# Installation

Add the dependency.

```gradle_kotlin file=app/build.gradle.kts
implementation("com.posthog:posthog-android:$latestVersion")
```

Initialize the SDK in the `Application` class.

```android_kotlin
import android.app.Application
import com.posthog.android.PostHogAndroid
import com.posthog.android.PostHogAndroidConfig

class SampleApp : Application() {

    companion object {
        const val POSTHOG_API_KEY = "<ph_project_api_key>"
        // usually 'https://app.posthog.com' or 'https://eu.posthog.com'
        const val POSTHOG_HOST = "<ph_instance_address>"
    }

    override fun onCreate() {
        super.onCreate()

        val config = PostHogAndroidConfig(
            apiKey = POSTHOG_API_KEY,
            host = POSTHOG_HOST // TIP: `host` is optional if you use https://app.posthog.com
        )
        config.sessionReplay = true
        PostHogAndroid.setup(this, config)
    }
}
```

Add the OkHttp Interceptor.

```android_kotlin
import com.posthog.PostHogOkHttpInterceptor
import okhttp3.OkHttpClient

private val client = OkHttpClient.Builder()
    .addInterceptor(PostHogOkHttpInterceptor(captureNetworkTelemetry = true))
    .build()
```

# Recording specific configuration

The SDK configurations.

```android_kotlin
val config = PostHogAndroidConfig(apiKey = POSTHOG_API_KEY).apply {
    // enable session recording, requires enabling on the project configuration as well.
    sessionReplay = true
    // all texts are masked (default is enabled)
    sessionReplayConfig.maskAllTextInputs = false
    // all images are placeholders (default is enabled)
    sessionReplayConfig.maskAllImages = false
    // capture logs automatically (default is enabled)
    sessionReplayConfig.captureLogcat = true
}
```

The View declaration tag, the image will be a placeholder if the tag is set.

```xml
<ImageView
    android:id="@+id/imvProfilePhoto"
    android:layout_width="200dp"
    android:layout_height="200dp"
    android:tag="ph-no-capture"
/>
```

# Limitations

* Requires the PostHog Android SDK version >= [3.1.0](https://github.com/PostHog/posthog-android/releases/tag/3.1.0) - use the latest version.
* Requires Android API >= 26, otherwise it's a NoOp.
* Not compatible with Jetpack Compose.
* Generates wireframe representations of a users screen, not a video recording or a screenshot.
  * Custom views are not fully supported.
* WebView is not supported, a placeholder will be shown.
* React Native and Flutter for Android aren't supported.
* [Authorized Domains for Replay](https://us.posthog.com/settings/project-replay#replay-authorized-domains) has to be disabled, for now, or create a new testing project to not disrupt your current project configuration.
* Let us know when you're ready to view the recordings. While replay is in beta there's still some setup on our side before you can playback the sessions.
