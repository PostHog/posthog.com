---
title: Mobile replays
---

> ðŸš§ **NOTE:** Mobile recording is currently **only available on Android and iOS** and is considered `beta`. We are keen to gather as much feedback as possible so if you try this out please let us know. You can send feedback via the [in-app support panel](https://us.posthog.com#panel=support%3Afeedback%3Asession_replay%3Alow) or one of our other [support options](/docs/support-options).

Mobile replays allows you to record user sessions in mobile apps. This includes screen recordings, network requests, logs, and touches. This data can then be used to understand how users are interacting with your app and to identify bugs and issues.

## How it works

We have taken our time to make sure we provide a useful and detailed recording experience whilst keeping the performance and security of your app as a top priority. By default, the configuration is restrictive with automatic masking.

### Wireframe mode (default)

Mobile recording is primarily done using native APIs to grab the view hierarchy state when the screen is drawn. This is done carefully so as not to affect performance in any way a user may notice.

The view hierarchy is transformed to a JSON data structure and later rendered as an HTML [wireframe](https://www.figma.com/resource-library/what-is-wireframing/). Since it is a wireframe, the UI won't have the original look and feel but it should be close enough to understand the user's behavior.

### Screenshot mode

If  `screenshot` (Android) or `screenshotMode` (iOS) option is enabled, the SDK will take a screenshot of the screen instead of making a wireframe representation of the user's screen. The screenshot may contain sensitive information, so proceed with caution and ensure you're masking all relevant views.

## Android

### Installation 

[Install and configure PostHog]((/docs/libraries/android#installation)) as you normally would. Ensure you've enabled session recordings in your [project settings](/docs/session-replay/installation#step-two-enable-session-recordings-in-your-project-settings) and then add `sessionReplay = true` to your PostHog configuration, alongside any of your other configuration options.  

```android_kotlin
val config = PostHogAndroidConfig(apiKey = "<ph_project_api_key>").apply {
    // Enable session recording. Requires enabling in your project settings as well.
    // Default is false.
    sessionReplay = true

    // Whether text inputs are masked. Default is true.
    // This isn't supported if using Jetpack Compose views.
    // Password inputs are always masked regardless
    sessionReplayConfig.maskAllTextInputs = true

    // Whether images are masked. Default is true.
    // This isn't supported if using Jetpack Compose views.
    sessionReplayConfig.maskAllImages = true

    // Capture logs automatically. Default is true.
    sessionReplayConfig.captureLogcat = true

    // Whether replays are created using high quality screenshots. Default is false.
    // If disabled, replays are created using wireframes instead.
    // The screenshot may contain sensitive information, so use with caution
    sessionReplayConfig.screenshot = false

    // How long to wait before recording user input when typing. Default is 500ms
    sessionReplayConfig.debouncerDelayMs = 500
}
```

### Additional options

#### Capture network telemetry

To capture network requests in your recordings, add `PostHogOkHttpInterceptor` to your `OkHttp Interceptor`. 

```android_kotlin
import com.posthog.PostHogOkHttpInterceptor
import okhttp3.OkHttpClient

private val client = OkHttpClient.Builder()
    .addInterceptor(PostHogOkHttpInterceptor(captureNetworkTelemetry = true))
    .build()
```

Note that only metric-like data like speed, size, and response code are captured. No data is captured from the request or response body.

#### Masking and redacting

> ðŸš§ **NOTE:** Currently, this isn't supported if using Jetpack Compose views. We're investigating this issue.

Your replays may contain sensitive information. For example, if you're building a banking app you may not want to capture how much money a user has in their account. 

To replace any type of `View` with a redacted version in the replay, set the [tag](https://developer.android.com/reference/android/view/View#tags) to `ph-no-capture`.

```xml
<ImageView
    android:id="@+id/imvProfilePhoto"
    android:layout_width="200dp"
    android:layout_height="200dp"
    android:tag="ph-no-capture"
/>
```

### Limitations

- Session replay Requires PostHog Android SDK version >= [3.4.0](https://github.com/PostHog/posthog-android/releases), and it's recommended to always use the latest version.
- Requires Android API >= 26.
- Jetpack Compose is only supported if `screenshotMode` is enabled.
  - Masking and redacting in Jetpack Compose isn't supported yet. We're investigating this issue.
- Custom views are partly supported, and only fully supported if `screenshotMode`  is enabled.
- WebView is not supported. A placeholder will be shown.
- Keyboard is not supported. A placeholder will be shown.
- React Native and Flutter for Android aren't supported.

## iOS

### Installation
[Install and configure PostHog]((/docs/libraries/ios#installation)) as you normally would. Ensure you've enabled session recordings in your [project settings](/docs/session-replay/installation#step-two-enable-session-recordings-in-your-project-settings) and then add `config.sessionReplay = true` to your PostHog configuration, alongside any of your other configuration options.  

```swift
let config = PostHogConfig(apiKey: apiKey)
// Enable session recording. Requires enabling in your project settings as well.
// Default is false.
config.sessionReplay = true

// Whether text inputs are masked. Default is true.
// This isn't supported if using Jetpack Compose views.
// Password inputs are always masked regardless
config.sessionReplayConfig.maskAllTextInputs = true

// Whether images are masked. Default is true.
config.sessionReplayConfig.maskAllImages = true

// Whether network requests are captured in recordings. Default is true
// Note that only metric-like data like speed, size, and response code are captured. 
// No data is captured from the request or response body.
config.sessionReplayConfig.captureNetworkTelemetry = true

// Whether replays are created using high quality screenshots. Default is false.
// Required for SwiftUI.
// If disabled, replays are created using wireframes instead.
// The screenshot may contain sensitive information, so use with caution
config.sessionReplayConfig.screenshotMode = true
```

### Additional options

#### Masking and redacting

Your replays may contain sensitive information. For example, if you're building a banking app you may not want to capture how much money a user has in their account. 

To replace any type of `UIView` with a redacted version in the replay, set the [accessibilityIdentifier](https://developer.apple.com/documentation/uikit/uiaccessibilityidentification/1623132-accessibilityidentifier) to `ph-no-capture`:

```swift
let imvProfilePhoto = UIImageView(frame: CGRect(x: 50, y: 50, width: 100, height: 100))
imvProfilePhoto.accessibilityIdentifier = "ph-no-capture"
```

The [SwiftUI TextField](https://developer.apple.com/documentation/swiftui/textfield) when used in combination with [UITextInputTraits](https://developer.apple.com/documentation/uikit/uitextinputtraits) by setting traits such as `TextField("Email", text: ...).keyboardType(.emailAddress)` will always be automatically masked since it's for private text.

The [SwiftUI SecureField](https://developer.apple.com/documentation/swiftui/securefield) view is always automatically masked since it's for private text.

The [SwiftUI accessibilityLabel](https://developer.apple.com/documentation/swiftui/view/accessibilitylabel(_:)-7rljm) and [SwiftUI accessibilityIdentifier](https://developer.apple.com/documentation/swiftui/view/accessibilityidentifier(_:)) configurations aren't supported yet for SwiftUI, We're investigating this issue.

The [SwiftUI Text](https://developer.apple.com/documentation/swiftui/text) view is detected as a SwiftUI Image view and it'll be automatically masked if the option `maskAllImages` is enabled even if the `maskAllTextInputs` option is disabled, We're investigating this issue.

### Limitations

- Requires PostHog iOS SDK version >= [3.6.0](https://github.com/PostHog/posthog-ios/releases), and it's recommended to always use the latest version.
- [SwiftUI](https://developer.apple.com/xcode/swiftui/) is only supported if the `screenshotMode` option is enabled.
  - `Text` views in SwiftUI are considered images, so they are masked unless `maskAllImages` is disabled. 
- Replays are representation of the user's screen, not a video recording nor a screenshot (unless `screenshot` mode is enabled).
- Custom views are not fully supported if `screenshotMode` is disabled.
- WebView is not supported. A placeholder will be shown.
- React Native and Flutter for iOS aren't supported.
