---
title: SvelteKit error tracking installation
---

import { Steps, Step } from 'components/Docs/Steps'

import SvelteInstallClient from '../../integrate/_snippets/install-svelte-client.mdx'
import SvelteInstallServer from '../../integrate/_snippets/install-svelte-server.mdx'
import StepVerifyErrorTracking from "./_snippets/step-verify-error-tracking.mdx"
import StepUploadSourceMaps from "./_snippets/step-upload-source-maps.tsx"

<Steps>
<Step title="Install PostHog" subtitle="Your goal in this step: Install the PostHog JavaScript web and Node SDKs." badge="required">

<SvelteInstallClient />
<SvelteInstallServer />

</Step>

<Step title="Set up client-side exception capture" badge="required">

[SvelteKit Hooks](https://svelte.dev/docs/kit/hooks) can be used to capture exceptions in the client and server-side.

Capture exceptions in the `handleError` callback in your client-side hooks file:

```js file=src/hooks.client.js
import posthog from 'posthog-js';
import type { HandleClientError } from '@sveltejs/kit';

export const handleError = ({ error, status }: HandleClientError) => {
  // SvelteKit 2.0 offers a reliable way to check for a 404 error:
  if (status !== 404) {
      posthog.captureException(error);
  }
};
```

</Step>

<Step title="Set up server-side exception capture" badge="required">

To capture exceptions on the server-side, you will also need to implement the `handleError` callback:

```js file=src/hooks.server.ts
import type { HandleServerError } from '@sveltejs/kit';
import { PostHog } from 'posthog-node';

const client = new PostHog(
  '<ph_project_api_key>',
  { host: '<ph_client_api_host>' }
)

export const handleError = async ({ error, status }: HandleServerError) => {
  if (status !== 404) {
      client.captureException(error);
      await client.shutdown();
  }
};
```

</Step>

<StepVerifyErrorTracking />


<Step title="Upload source maps" badge="required">

<StepUploadSourceMaps urlPath="web" />

</Step>

</Steps> 