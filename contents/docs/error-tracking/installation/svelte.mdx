---
title: SvelteKit error tracking installation
---

import { Steps, Step } from 'components/Docs/Steps'

import SvelteInstallClient from '../../integrate/_snippets/install-svelte-client.mdx'
import SvelteInstallServer from '../../integrate/_snippets/install-svelte-server.mdx'

<Steps>
<Step title="Installing PostHog" subtitle="Your goal in this step: Install the PostHog SvelteKit SDK." badge="required">

<SvelteInstallClient />
<SvelteInstallServer />

</Step>

<Step title="Setting up client-side exception capture" subtitle="Your goal in this step: Capture exceptions in the client-side." badge="required">

[SvelteKit Hooks](https://svelte.dev/docs/kit/hooks) can be used to capture exceptions in the client and server-side.

Capture exceptions in the `handleError` callback in your client-side hooks file:

```js file=src/hooks.client.js
import posthog from 'posthog-js';
import type { HandleClientError } from '@sveltejs/kit';

export const handleError = ({ error, status }: HandleClientError) => {
  // SvelteKit 2.0 offers a reliable way to check for a 404 error:
  if (status !== 404) {
      posthog.captureException(error);
  }
};
```

</Step>

<Step checkpoint title="Verify client-side exceptions" subtitle="Confirm exceptions are being properly captured">

Before proceeding, confirm that exceptions are being properly captured.

<div className="mt-4 mb-2">
  <CallToAction type="primary" to="https://us.posthog.com/activity/explore">
    Check for exceptions in PostHog
  </CallToAction>
</div>

</Step>

<Step title="Setting up server-side exception capture" subtitle="Your goal in this step: Capture exceptions in the server-side." badge="required">

To capture exceptions on the server-side, you will also need to implement the `handleError` callback:

```js file=src/hooks.server.ts
import type { HandleServerError } from '@sveltejs/kit';
import { PostHog } from 'posthog-node';

const client = new PostHog(
  '<ph_project_api_key>',
  { host: '<ph_client_api_host>' }
)

export const handleError = async ({ error, status }: HandleServerError) => {
  if (status !== 404) {
      client.captureException(error);
      await client.shutdown();
  }
};
```

</Step>

<Step checkpoint title="Verify server-side exceptions" subtitle="Confirm exceptions are being properly captured">

Before proceeding, confirm that exceptions are being properly captured.

<div className="mt-4 mb-2">
  <CallToAction type="primary" to="https://us.posthog.com/activity/explore">
    Check for exceptions in PostHog
  </CallToAction>
</div>

</Step>

<Step title="Next steps">

After configuring PostHog, you will start receiving exceptions in PostHog. To help you get more out of your error tracking, you can:

1. [Upload source maps](/docs/error-tracking/upload-source-maps) – Required for accurate stack traces if you serve minified bundles.
2. [Configure alerting](/docs/error-tracking/alerts) – Get notified when errors occur
3. [Cutting cost](/docs/error-tracking/cutting-costs) – Take advantage of our cost-effective pricing

</Step>
</Steps> 