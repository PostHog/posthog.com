---
title: Android error tracking installation
showStepsToc: true
platformLogo: android
tableOfContents: [
  {
    url: 'install-posthog-android-sdk',
    value: 'Install PostHog Android SDK',
    depth: 1,
  },
  {
    url: 'set-up-exception-autocapture',
    value: 'Set up exception autocapture',
    depth: 1,
  },
  {
    url: 'manually-capture-exceptions',
    value: 'Manually capture exceptions',
    depth: 1,
  },
  {
    url: 'verify-error-tracking',
    value: 'Verify error tracking',
    depth: 1,
  },
  {
    url: 'upload-mappings',
    value: 'Upload mappings',
    depth: 1,
  }
]
---

import { Steps, Step } from 'components/Docs/Steps'
import { CalloutBox } from 'components/Docs/CalloutBox'

import InstallAndroid from "../../integrate/_snippets/install-android.mdx"
import StepVerifyErrorTracking from "./_snippets/step-verify-error-tracking.mdx"
import StepUploadSymbolSets from "./_snippets/step-upload-symbol-sets.tsx"

<CalloutBox icon="IconInfo" title="Planned features" type="fyi">

We currently don't support [source code context](/docs/error-tracking/stack-traces) associated with an exception. 

These features will be added in a future release.

</CalloutBox>

<Steps>

<Step title="Install PostHog Android SDK" badge="required">

<CalloutBox icon="IconInfo" title="SDK version requirement" type="action">

A minimum SDK version of [3.27.1](https://github.com/PostHog/posthog-android/releases/tag/android-v3.27.1) is required, but we recommend [keeping up with the latest SDK version](/docs/sdk-doctor) to ensure you have all of error tracking's features.

</CalloutBox>

<InstallAndroid />

<CalloutBox icon="IconInfo" title="Stack traces in Compose" type="action">

If you're using Jetpack Compose, we recommend [adding source information to your stack traces](https://developer.android.com/develop/ui/compose/tooling/stacktraces) to improve their readability.

</CalloutBox>

</Step>

<Step title="Set up exception autocapture" badge="recommended">

<CalloutBox icon="IconInfo" title="Client-side configuration only" type="fyi">

This configuration is client-side only. Support for remote configuration in the [error tracking settings](https://app.posthog.com/settings/project-error-tracking#exception-autocapture) will be added in a future release.

</CalloutBox>

You can autocapture exceptions by setting the `errorTrackingConfig.autoCapture` argument to `true` when initializing the PostHog SDK.

```kotlin
import com.posthog.android.PostHogAndroidConfig

val config = PostHogAndroidConfig(
    apiKey = POSTHOG_API_KEY, 
    host = POSTHOG_HOST
).apply {
    ...
    errorTrackingConfig.autoCapture = true
}
...
```

When enabled, this automatically captures `$exception` events when errors are thrown by wrapping the `Thread.UncaughtExceptionHandler` listener.

</Step>

<Step title="Manually capture exceptions" badge="optional">

It is also possible to manually capture exceptions using the `captureException` method:

```kotlin
PostHog.captureException(
    exception, 
    properties = additionalProperties
)
```

This is helpful if you've built your own error handling logic or want to capture exceptions that are handled by your application code.

</Step>

<StepVerifyErrorTracking />

<Step title="Upload mappings" badge="recommended">

<CalloutBox icon="IconInfo" title="ProGuard/R8 mappings" type="fyi">

This configuration is required if your app has minified builds ([isMinifyEnabled=true](https://developer.android.com/topic/performance/app-optimization/enable-app-optimization)) enabled for demangling stacktraces.

</CalloutBox>

<StepUploadSymbolSets urlPath="android" framework="Android" symbolType="mappings" basePath="upload-mappings" />

</Step>

</Steps>
