### Setting up Node exception autocapture

> **Note:** A minimum SDK version of v4.5.2 is required, but we recommend keeping up to date with the latest version to ensure you have all of error tracking's features.

Exception autocapture can be enabled during initialization of the PostHog client to automatically capture any exception thrown by your Node application.

```node
import { PostHog } from 'posthog-node'

const client = new PostHog(
    '<ph_project_api_key>',
    { enableExceptionAutocapture: true }
)

```

Express handles uncaught errors by default. You will need to call `setupExpressErrorHandler` with your PostHog client and Express app if you are using the Express framework and want to autocapture exceptions.

```node file=server.ts
import express from 'express'
import { PostHog, setupExpressErrorHandler } from 'posthog-node'

const app = express()
const posthog = new PostHog(PH_API_KEY)

setupExpressErrorHandler(posthog, app)
```

> ⚠️ Error tracking requires access the file system to process stack traces. Cloudflare workers do not support Node.js runtime APIs by default and need to be [included as per their documentation](https://developers.cloudflare.com/workers/runtime-apis/nodejs/#nodejs-compatibility).

For exceptions handled by your application that you would still like sent to PostHog, you can manually call the capture method:

```node
posthog.captureException(e, 'user_distinct_id', additionalProperties)
```