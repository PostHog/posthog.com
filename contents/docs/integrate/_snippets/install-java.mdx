The best way to install the PostHog Java SDK is with a build system like Gradle or Maven. This ensures you can easily upgrade to the latest versions.

Look up the latest version in [com.posthog.posthog-server](https://central.sonatype.com/artifact/com.posthog/posthog-server).

#### Gradle

All you need to do is add the `posthog-server` module to your `build.gradle`:

```gradle_kotlin file=build.gradle
dependencies {
  implementation 'com.posthog:posthog-server:1.+'
}
```

#### Maven

All you need to do is add the `posthog-server` module to your `pom.xml`:

```xml file=pom.xml
<dependency>
  <groupId>com.posthog</groupId>
  <artifactId>posthog-server</artifactId>
  <version>LATEST</version>
</dependency>
```

#### Other

See [com.posthog.posthog-server](https://central.sonatype.com/artifact/com.posthog/posthog-server) in the Maven Central Repository. Clicking on the latest version shows you options for adding dependencies for other build systems.

### Setup

```java
import com.posthog.server.PostHog;
import com.posthog.server.PostHogConfig;
import com.posthog.server.PostHogInterface;

class Sample {
  private static final String POSTHOG_API_KEY = "<ph_project_api_key>";
  private static final String POSTHOG_HOST = "<ph_client_api_host>";

  public static void main(String args[]) {
    PostHogConfig config = PostHogConfig
            .builder(POSTHOG_API_KEY)
            .host(POSTHOG_HOST)
            .build();
    
    PostHogInterface postHog = PostHog.with(config);

    postHog.close();  // send the last events in queue
  }
}
```

