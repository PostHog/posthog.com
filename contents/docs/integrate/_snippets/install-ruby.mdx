Add this to your `Gemfile`:

```bash
gem "posthog-ruby"
```

In your app, set your API key **before** making any calls. If setting a custom `host`, make sure to include the protocol (e.g. `https://`).

```ruby
require 'posthog-ruby'

posthog = PostHog::Client.new({
  api_key: "<ph_project_api_key>",
  host: "<ph_client_api_host>",
  on_error: Proc.new { |status, msg| print msg }
})
```

You can find your project API key and instance address in the [project settings](https://app.posthog.com/project/settings) page in PostHog.