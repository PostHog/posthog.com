---
date: 2022-08-23
title: 'Array 1.39.0: Moving person properties onto events'
rootPage: /blog
sidebar: Blog
showTitle: true
hideAnchor: true
categories: ['Release notes', 'Product updates']
featuredImage: ../images/blog/posthog-array-blog.png
featuredImageType: full
excerpt: PostHog 1.39.0 introduces a new beta option which could improve query speed by up to 400x. And that's just for starters!
---

Want to know more about what we're up to? [Subscribe to HogMail, our newsletter](/newsletter), which we send out every two weeks!

> Running a self-hosted instance? Check out our [Upgrading PostHog guide](/docs/runbook/upgrading-posthog).

## PostHog 1.39.0 release notes

**Release highlights:**

- Beta: [Persons on events](#beta-persons-on-events)
- [New: Format your insights to show durations](#new-format-your-insights-to-show-durations)
- [New: Big, bold number chart type](#new-big-bold-number-chart-type)
- [Improved: Turbo properties](#improved-turbo-properties)
- [Improved: History log now shows changes to insights](#improved-history-log-now-shows-changes-to-insights)
- [Improved: Client and server-side library improvements](#improved-client-and-server-side-library-improvements)
- [Improved: Automatically comment SQL queries](#improved-automatically-comment-sql-queries)
- [Apps: Census integration](#apps-census-integration)

### Beta: Persons on events

We're getting ready to make a substantial change to the way [persons](/manual/persons) and [events](/manual/events) work by essentially combining them and adding person ids and properties _onto_ events. 1.39.0 gives you the chance to try the feature ahead of the full release. Here's how:

- **PostHog Cloud:** No action is needed, as we're rolling this test out steadily behind a feature flag. If you're eager to be included from the start, let us know in [Slack](/slack) to see about joining our beta group.
-  **Self-hosted users:** First, you need to [run an async migration](/docs/runbook/async-migrations). Afterwards, change your `actors_on_events_teams` [instance setting](/docs/self-host/configure/instance-settings) to `true`. As with other instance settings, you'll need to be [a Staff user](/docs/self-host/configure/instance-settings#staff-users) to make changes.

Why are we doing this? Feedback showed that users weren't able to create queries based on person properties at the time of an event. By putting person properties on events, this becomes the new default, while still enabling you to to filter insights based on the latest properties by using cohorts. 

Also, it makes queries significantly faster because we no longer have to merge tables to get a result; we can just look up everything in the events table instead. One query in our internal tests showed a 400x increase in speed...but this beta will help us understand the improvement in real-world conditions. 

We'll share more about this update once it's fully released to all users - keep and eye on [the PostHog blog](/blog) for updates. 

### New: Format your insights to show durations

![formatting an insight as a duration](../images/blog/array-1.39.0/duration-formatting.gif)

Do your event properties contain milliseconds or seconds? Then you can now make things easier by changing your Y-axis unit to show durations instead of the default `none`. It's a small addition, but one which makes insights much easier to read and share with others.

### New: Big, bold number chart type

![the big bold number insight formatted as a duration](../images/blog/array-1.39.0/big-number.png)

This new, much requested and _very_ exciting big bold number insight type does exactly what it says: simplifies a query result down to a single number. And it works great with durations too!

### Improved: Turbo properties

Frustrated that it was taking a few seconds to load properties? You weren't the only one. 

Thankfully, version 1.39.0 addresses this by adding a limit so that PostHog doesn't always search through hundreds of thousands of properties for each query. The result? [Properties now load much faster](https://github.com/PostHog/posthog/pull/11037). 

### Improved: History log now shows changes to insights

![a view of the insights activity tab](../images/blog/array-1.39.0/insights-activity.png)

We've had feedback from several users that they enjoy tracking changes to their feature flags in the history logs. So, we added the same functionality to insights too! Now you can snoop on who has been changing your insights and giving them funny names.

## Improved: Client and server-side library improvements

While we continue to recommend using Javascript if possible, we've made significant updates to our other client libraries so that Android, iOS, Flutter and React Native now all support feature flags. We've also updated our server-side libraries to have local feature flag evaluation.

Check [our library docs](/docs/integrate/libraries) to find out more about what each library supports and how to deploy. 

### Improved: Automatically comment SQL queries

We've added [a new SQL commenter dependency](https://google.github.io/sqlcommenter/python/django/#0) which automatically comments all SQL queries generated by PostHog with tags. We've tried this a few times before with [different solutions](https://github.com/PostHog/posthog/pull/10433#issuecomment-1164125629), we're confident that _this_ time will definitely be the third time we've tried. 

### Apps: Census integration

Census, an operational analytics platform for syncing data with tools across your stack, has created a new PostHog integration so you can sync events data into their platform. Check [the Census docs](https://docs.getcensus.com/destinations/posthog) on how to get started!

Interested in building your own app? [Here's how to get started](/docs/apps)!

### Other improvements & fixes
Version 1.39 also adds hundreds of other improvements and fixes, including...

-   **Improvement**: We've removed some axe violations on Home, to improve accessibility. And added accessibility testing to our workflow. Bonus: Check the PR for [a _fantastic_ Dad joke](https://github.com/PostHog/posthog/pull/11211#discussion_r941651022). 
-   **Improvement**: When deleting persons, you can now choose to delete event data as well thanks to [a new person deletion flow](https://github.com/PostHog/posthog/pull/11347).
-   **Improvement**: [We've separated the list of feature flags on an event from its event properties in the taxonomic filter](https://github.com/PostHog/posthog/pull/10668). Making it (approximately) 1,000,000% easier to find things when there are lots of feature flags.
-   **Fix**: In a few unexpected cases we used to return a successful response to some invalid API requests to the capture endpoint. [Now we correctly return a `400 BAD REQUEST`](https://github.com/PostHog/posthog/pull/10999) which will help people with useful feedback during development

View the commit log in GitHub for a full history of changes: [`release-1.37.0...release-1.38.0`](https://github.com/PostHog/posthog/compare/release-1.38.0...release-1.39.0).

## Give us your feedback
We’re always working on improving PostHog and would love to talk to you! Please [schedule a 30 minute call](https://calendly.com/posthog-feedback) with one of our Product, Engineering, or Marketing team members to help us understand how to improve. As a thank you for your time, we'll be giving away awesome [PostHog merch](https://merch.posthog.com)!

## Contributions from the community
We always welcome contributions from our community and this time we want to thank the following people...

- [@MrKevinOConnel](https://github.com/MrKevinOConnell) for several PRs, including [a new Support Hero bot](https://github.com/MrKevinOConnell/SupportHeroJr).
- [@petedemin](https://github.com/peterdemin) for some copy fixes.
- [@Nishant-Sagar](https://github.com/Nishant-Sagar) for improving the docs for Linux users.
- [@recklessop](https://github.com/recklessop) for fixing some broken URLs on [our GA site](https://isgoogleanalyticsillegal.com/).
- [@MarkBennett](https://github.com/MarkBennett) for fixing his URL normalizer app.
- [@danielthedifficult](https://github.com/danielthedifficult) for fixing some issues with our open source version. 
- [@nemobsis](https://github.com/nemobis) for adding to our GA site.

Do you want to get involved in making PostHog better? Check out our [contributing resources](/docs/contribute) to get started, or head to [our Slack group](/slack). We also have a [list of Good First Issues](https://github.com/PostHog/posthog/issues?q=is%3Aopen+is%3Aissue+label%3A%22good+first+issue%22) for ideas on where you can contribute!

## Open roles at PostHog
Want to join us in helping make more products successful? We're currently hiring for remote candidates in any of the following roles:

- [Head of Product](https://apply.workable.com/posthog/j/7910AE1F46/)
- [Senior Data Engineer](https://apply.workable.com/posthog/j/F01772B948/)
- [Senior Backend Engineer](https://apply.workable.com/posthog/j/A9CF0800AA/)
- [Site Reliability Engineer - Kubernetes](https://apply.workable.com/posthog/j/071DD5C05A/)
- [Full Stack Engineer - App](https://apply.workable.com/posthog/j/2682B00B76/)

Curious about what it's like to work at PostHog? Check out our [careers page](https://posthog.com/careers) for more info about our all-remote team and transparent culture. Don’t see a specific role listed? That doesn't mean we won't have a spot for you. [Send us a speculative application!](mailto:careers@posthog.com)

<hr />

_Follow us on [Twitter](https://twitter.com/PostHog) or [LinkedIn](https://linkedin.com/company/posthog) for more PostHog goodness!_

<ArrayCTA />
